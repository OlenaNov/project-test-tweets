"use strict";(self.webpackChunkproject_test_tweets=self.webpackChunkproject_test_tweets||[]).push([[5],{2005:function(e,t,r){r.r(t),r.d(t,{default:function(){return J}});var n=r(1413),s=r(3433),a=r(5861),c=r(9439),i=r(7757),o=r.n(i),u=r(1087),l=r(4383),_=r(4569),f=r.n(_);f().defaults.baseURL="https://6435ab5d83a30bc9ad671d0f.mockapi.io";var d=function(){var e=(0,a.Z)(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().get(t,{params:{page:r,limit:6}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().put(t,r);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m="UserCard_item__box__bCO4B",h="UserCard_item__icon__+3ZJL",x="UserCard_item__img__KmSHr",w="UserCard_item__boxContent__UNfyY",v="UserCard_item__content__UigYJ",U="UserCard_item__btn__G6hST",b="UserCard_item__following__q0zNa",j="UserCard_item__follow__oUIVF",k=r(184),g=function(e){var t=e.item,r=t.id,n=t.avatar,s=t.name,c=t.tweets,i=t.followers,u=t.isFollowing,_=e.updateState,f=function(){var e=(0,a.Z)(o().mark((function e(t,r,n){var s,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={followers:n?r-1:r+1,isFollowing:!n},e.next=3,p("/users/".concat(t),s);case 3:a=e.sent,_(a);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();return(0,k.jsxs)("div",{className:m,children:[(0,k.jsx)(l.r,{className:h}),(0,k.jsx)("img",{src:n,alt:s,className:x}),(0,k.jsxs)("div",{className:w,children:[(0,k.jsxs)("p",{className:v,children:[c," tweets"]}),(0,k.jsxs)("p",{className:v,children:[i.toLocaleString("en-US")," followers"]})]}),(0,k.jsx)("button",{onClick:function(){return f(r,i,u)},className:u?"".concat(b," ").concat(U):"".concat(j," ").concat(U),children:u?"following":"follow"})]})},C="UserList_linkGoBack__+crjK",N="UserList_usersList__YH9cS",L="UserList_usersList__item__bXLHJ",S="UserList_btnLoadMore__J4KUr",Z=function(e){var t=e.items,r=e.makeMoreUsers,n=e.updateStateUser;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(u.Link,{to:"/",className:C,children:"Go back"}),(0,k.jsx)("ul",{className:N,children:t.map((function(e){return(0,k.jsx)("li",{className:L,children:(0,k.jsx)(g,{item:e,updateState:n})},e.id)}))}),(0,k.jsx)("button",{onClick:function(){return r(t)},className:S,children:"Load more..."})]})},y=r(2791),F=r(5264),J=function(){var e=(0,y.useState)([]),t=(0,c.Z)(e,2),r=t[0],i=t[1],u=(0,y.useRef)(!1),l=function(){var e=(0,a.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Math.round(t.length/6+1),e.prev=1,e.next=4,d("/users",r);case 4:n=e.sent,i((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(n))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),F.Notify.failure("Sorry, the request could not be processed, try reloading the page!");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();(0,y.useEffect)((function(){u.current||(u.current=!0,l(r))}),[u,r]);return(0,k.jsx)(k.Fragment,{children:0!==r.length&&(0,k.jsx)(Z,{items:r,makeMoreUsers:l,updateStateUser:function(e){i((function(t){return t.map((function(t){return t.id===e.id?(0,n.Z)((0,n.Z)({},t),e):t}))}))}})})}}}]);
//# sourceMappingURL=5.da958602.chunk.js.map
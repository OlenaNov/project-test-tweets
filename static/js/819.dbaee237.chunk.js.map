{"version":3,"file":"static/js/819.dbaee237.chunk.js","mappings":"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","sources":["utilites/api.js","webpack://project-test-tweets/./src/components/UserCard/UserCard.module.css?416f","components/UserCard/UserCard.jsx","webpack://project-test-tweets/./src/components/UsersList/UserList.module.css?6f1b","components/UsersList/UsersList.jsx","components/Filter/Filter.jsx","pages/Tweets/Tweets.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://6435ab5d83a30bc9ad671d0f.mockapi.io';\n\nexport const fetchUsers = async (url, page) => {\n\n    const request = await axios.get(url, {\n        params: {\n            page,\n            limit: 6,\n        },\n    });\n    return request.data;\n};\n\n\nexport const updateUser = async (url, newData) => {\n\n    const request = await axios.put(url, newData);\n    return request.data;\n};\n\n","// extracted by mini-css-extract-plugin\nexport default {\"item__box\":\"UserCard_item__box__bCO4B\",\"item__icon\":\"UserCard_item__icon__+3ZJL\",\"item__img\":\"UserCard_item__img__KmSHr\",\"item__boxContent\":\"UserCard_item__boxContent__UNfyY\",\"item__content\":\"UserCard_item__content__UigYJ\",\"item__btn\":\"UserCard_item__btn__G6hST\",\"item__following\":\"UserCard_item__following__q0zNa\",\"item__follow\":\"UserCard_item__follow__oUIVF\"};","import { ReactComponent as LogoSvg } from '../../images/Logo.svg';\nimport { updateUser } from 'utilites/api';\nimport css from './UserCard.module.css';\n\nconst UserCard = ({ item: { id, avatar, name, tweets, followers, isFollowing }, updateState }) => {\n    \n    const handleClick = async (id, followers, isFollowing) => {\n\n        const userToUpdate = {\n            followers: isFollowing ? followers - 1 : followers + 1,\n            isFollowing: !isFollowing,\n        };\n\n        const response = await updateUser(`/users/${id}`, userToUpdate);\n        updateState(response);\n    };\n\n    return (\n\n        <div className={css.item__box}>\n            <LogoSvg className={css.item__icon} />\n            <img src={avatar} alt={name} className={css.item__img} />\n            <div className={css.item__boxContent}>\n                <p className={css.item__content}>{tweets} tweets</p>\n                <p className={css.item__content}>{followers.toLocaleString('en-US')} followers</p>\n            </div>\n            <button onClick={() => handleClick(id, followers, isFollowing)} className={isFollowing ? `${css.item__following} ${css.item__btn}` : `${css.item__follow} ${css.item__btn}`}>{isFollowing ? 'following' : 'follow'}</button>\n        </div>\n    );\n};\n\nexport default UserCard;","// extracted by mini-css-extract-plugin\nexport default {\"linkGoBack\":\"UserList_linkGoBack__+crjK\",\"usersList\":\"UserList_usersList__YH9cS\",\"usersList__item\":\"UserList_usersList__item__bXLHJ\",\"btnLoadMore\":\"UserList_btnLoadMore__J4KUr\"};","import { Link } from \"react-router-dom\";\nimport UserCard from \"components/UserCard\";\nimport css from './UserList.module.css';\n\nconst UserList = ({ items, makeMoreUsers, updateStateUser }) => {\n\n    return (\n        <>\n        <Link to='/' className={css.linkGoBack}>Go back</Link>\n        <ul className={css.usersList}>\n        {items.map(item => {\n            return (\n                <li key={item.id} className={css.usersList__item}>\n                    <UserCard item={item}  updateState={updateStateUser} />\n                </li>\n            )\n        })\n        }\n        </ul>\n        <button \n            onClick={() => makeMoreUsers(items)}\n            className={css.btnLoadMore}\n            >Load more...</button>\n        </>\n    )\n};\n\nexport default UserList;","import Select from 'react-select';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nimport { fetchUsers } from \"utilites/api\";\n\nconst options = [\n  { value: 'all', label: 'ALL' },\n  { value: 'follow', label: 'FOLLOW' },\n  { value: 'followings', label: 'FOLLOWINGS' }\n]\n\nconst Filter = ({ onVisible }) => {\n    \n    const makeRequest = async () => {\n\n            try {\n                const result = await fetchUsers('/users');\n                return result;\n                \n            } catch {\n                Notify.failure('Sorry, the request could not be processed, try reloading the page!');\n            }\n        };\n\n    const makeFilter = async value => {\n        const users = await makeRequest();\n        \n        let result = [];\n        if(value === 'follow') {\n            result = users.filter(user => user.isFollowing === false);\n        };\n\n        if(value === 'followings') {\n            result = users.filter(user => user.isFollowing);\n        };\n\n        if(value === 'all') {\n            result = users;\n        };\n\n        onVisible(result);\n    };\n\n  return (\n    <Select \n  options={options}\n  onChange={option => makeFilter(option.value)}\n   />\n  )\n};\n\nexport default Filter;","import UserList from \"components/UsersList\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { fetchUsers } from \"utilites/api\";\nimport Filter from \"components/Filter\";\n\nconst Tweets = () => {\n    const [users, setUsers] = useState([]);\n    const isMounted = useRef(false);\n\n    const makeRequest = async users => {\n            \n        const nextPage = Math.round(users.length / 6 + 1);\n    \n            try {\n                const result = await fetchUsers('/users', nextPage);\n                setUsers(prevState => [...prevState, ...result]);\n            } catch {\n                Notify.failure('Sorry, the request could not be processed, try reloading the page!');\n            }\n        };\n\n    useEffect(() => {\n        if(isMounted.current) {\n            return;\n        };\n\n        isMounted.current = true;\n        makeRequest(users);\n\n    }, [isMounted, users]);\n\n    const updateState = dataUser => {\n\n        setUsers(prevState => prevState.map(user => {\n            if(user.id === dataUser.id) {\n                return {...user, ...dataUser};\n            }\n            return user;\n            })\n        );\n    };\n\n\n    return (\n        <>\n            <Filter onVisible={setUsers}/>\n            {users.length !== 0 && <UserList items={users} makeMoreUsers={makeRequest} updateStateUser={updateState}/>}\n        </>\n    );\n};\n\nexport default Tweets;"],"names":["axios","fetchUsers","url","page","params","limit","request","data","updateUser","newData","item","id","avatar","name","tweets","followers","isFollowing","updateState","handleClick","userToUpdate","response","className","css","Logo","src","alt","toLocaleString","onClick","items","makeMoreUsers","updateStateUser","Link","to","map","options","value","label","onVisible","makeRequest","result","Notify","makeFilter","users","filter","user","onChange","option","useState","setUsers","isMounted","useRef","nextPage","Math","round","length","prevState","useEffect","current","dataUser"],"sourceRoot":""}
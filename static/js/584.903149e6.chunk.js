"use strict";(self.webpackChunkproject_test_tweets=self.webpackChunkproject_test_tweets||[]).push([[584],{9584:function(t,e,r){r.r(e),r.d(e,{default:function(){return b}});var n=r(1413),s=r(3433),a=r(5861),u=r(9439),c=r(7757),i=r.n(c),o=r(4569),l=r.n(o);l().defaults.baseURL="https://6435ab5d83a30bc9ad671d0f.mockapi.io";var f=function(){var t=(0,a.Z)(i().mark((function t(e,r){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l().get(e,{params:{page:r,limit:6}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)(i().mark((function t(e,r){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l().put(e,r);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),d="UserCard_usersList__img__Kv-Bd",h="UserCard_following__XNKPm",m="UserCard_follow__ULLLH",_=r(184),v=function(t){var e=t.item,r=e.id,n=e.avatar,s=e.name,u=e.tweets,c=e.followers,o=e.isFollowing,l=t.updateState,f=function(){var t=(0,a.Z)(i().mark((function t(e,r,n){var s,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={followers:n?r-1:r+1,isFollowing:!n},t.next=3,p("/users/".concat(e),s);case 3:a=t.sent,l(a);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("img",{src:n,alt:s,className:d}),(0,_.jsx)("h2",{children:s}),(0,_.jsxs)("p",{children:[u," TWEETS"]}),(0,_.jsxs)("p",{children:[c.toLocaleString("en-US")," FOLLOWERS"]}),(0,_.jsx)("button",{onClick:function(){return f(r,c,o)},className:"".concat(o?h:m),children:o?"FOLLOWING":"FOLLOW"})]})},x="UserList_usersList__YH9cS",w="UserList_usersList__item__bXLHJ",L=function(t){var e=t.items,r=t.updateStateUser;return(0,_.jsx)("ul",{className:x,children:e.map((function(t){return(0,_.jsx)("li",{className:w,children:(0,_.jsx)(v,{item:t,updateState:r})},t.id)}))})},g=r(2791),j=r(1087),k=r(5264),b=function(){var t=(0,g.useState)([]),e=(0,u.Z)(t,2),r=e[0],c=e[1],o=(0,g.useRef)(!1),l=function(){var t=(0,a.Z)(i().mark((function t(e){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Math.round(e.length/6+1),t.prev=1,t.next=4,f("/users",r);case 4:n=t.sent,c((function(t){return[].concat((0,s.Z)(t),(0,s.Z)(n))})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),k.Notify.failure("Sorry, the request could not be processed, try reloading the page!");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();(0,g.useEffect)((function(){o.current||(o.current=!0,l(r))}),[o,r]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(j.NavLink,{to:"/",children:"Go back"}),0!==r.length&&(0,_.jsx)(L,{items:r,updateStateUser:function(t){c((function(e){return e.map((function(e){return e.id===t.id?(0,n.Z)((0,n.Z)({},e),t):e}))}))}}),0!==r.length&&(0,_.jsx)("button",{onClick:function(){return l(r)},children:"Load more..."})]})}}}]);
//# sourceMappingURL=584.903149e6.chunk.js.map
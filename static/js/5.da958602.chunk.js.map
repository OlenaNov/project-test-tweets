{"version":3,"file":"static/js/5.da958602.chunk.js","mappings":"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","sources":["utilites/api.js","webpack://project-test-tweets/./src/components/UserCard/UserCard.module.css?416f","components/UserCard/UserCard.jsx","webpack://project-test-tweets/./src/components/UsersList/UserList.module.css?6f1b","components/UsersList/UsersList.jsx","pages/Tweets/Tweets.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://6435ab5d83a30bc9ad671d0f.mockapi.io';\n\nexport const fetchUsers = async (url, page) => {\n\n    const request = await axios.get(url, {\n        params: {\n            page,\n            limit: 6,\n        },\n    });\n    return request.data;\n};\n\n\nexport const updateUser = async (url, newData) => {\n\n    const request = await axios.put(url, newData);\n    return request.data;\n};\n\n","// extracted by mini-css-extract-plugin\nexport default {\"item__box\":\"UserCard_item__box__bCO4B\",\"item__icon\":\"UserCard_item__icon__+3ZJL\",\"item__img\":\"UserCard_item__img__KmSHr\",\"item__boxContent\":\"UserCard_item__boxContent__UNfyY\",\"item__content\":\"UserCard_item__content__UigYJ\",\"item__btn\":\"UserCard_item__btn__G6hST\",\"item__following\":\"UserCard_item__following__q0zNa\",\"item__follow\":\"UserCard_item__follow__oUIVF\"};","import { ReactComponent as LogoSvg } from '../../images/Logo.svg';\nimport { updateUser } from 'utilites/api';\nimport css from './UserCard.module.css';\n\nconst UserCard = ({ item: { id, avatar, name, tweets, followers, isFollowing }, updateState }) => {\n    \n    const handleClick = async (id, followers, isFollowing) => {\n\n        const userToUpdate = {\n            followers: isFollowing ? followers - 1 : followers + 1,\n            isFollowing: !isFollowing,\n        };\n\n        const response = await updateUser(`/users/${id}`, userToUpdate);\n        updateState(response);\n    };\n\n    return (\n\n        <div className={css.item__box}>\n            <LogoSvg className={css.item__icon} />\n            <img src={avatar} alt={name} className={css.item__img} />\n            <div className={css.item__boxContent}>\n                <p className={css.item__content}>{tweets} tweets</p>\n                <p className={css.item__content}>{followers.toLocaleString('en-US')} followers</p>\n            </div>\n            <button onClick={() => handleClick(id, followers, isFollowing)} className={isFollowing ? `${css.item__following} ${css.item__btn}` : `${css.item__follow} ${css.item__btn}`}>{isFollowing ? 'following' : 'follow'}</button>\n        </div>\n    );\n};\n\nexport default UserCard;","// extracted by mini-css-extract-plugin\nexport default {\"linkGoBack\":\"UserList_linkGoBack__+crjK\",\"usersList\":\"UserList_usersList__YH9cS\",\"usersList__item\":\"UserList_usersList__item__bXLHJ\",\"btnLoadMore\":\"UserList_btnLoadMore__J4KUr\"};","import { Link } from \"react-router-dom\";\nimport UserCard from \"components/UserCard/UserCard\";\nimport css from './UserList.module.css';\n\nconst UserList = ({ items, makeMoreUsers, updateStateUser }) => {\n\n    return (\n        <>\n        <Link to='/' className={css.linkGoBack}>Go back</Link>\n        <ul className={css.usersList}>\n        {items.map(item => {\n            return (\n                <li key={item.id} className={css.usersList__item}>\n                    <UserCard item={item}  updateState={updateStateUser} />\n                </li>\n            )\n        })\n        }\n        </ul>\n        <button \n            onClick={() => makeMoreUsers(items)}\n            className={css.btnLoadMore}\n            >Load more...</button>\n        </>\n    )\n};\n\nexport default UserList;","import UserList from \"components/UsersList\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { fetchUsers } from \"utilites/api\";\n\nconst Tweets = () => {\n    const [users, setUsers] = useState([]);\n    const isMounted = useRef(false);\n\n    const makeRequest = async users => {\n            \n        const nextPage = Math.round(users.length / 6 + 1);\n    \n            try {\n                const result = await fetchUsers('/users', nextPage);\n                setUsers(prevState => [...prevState, ...result]);\n            } catch {\n                Notify.failure('Sorry, the request could not be processed, try reloading the page!');\n            }\n        };\n\n    useEffect(() => {\n        if(isMounted.current) {\n            return;\n        };\n\n        isMounted.current = true;\n        makeRequest(users);\n\n    }, [isMounted, users]);\n\n    const updateState = dataUser => {\n\n        setUsers(prevState => prevState.map(user => {\n            if(user.id === dataUser.id) {\n                return {...user, ...dataUser};\n            }\n            return user;\n            })\n        );\n    };\n\n    return (\n        <>\n            {users.length !== 0 && <UserList items={users} makeMoreUsers={makeRequest} updateStateUser={updateState}/>}\n        </>\n    );\n};\n\nexport default Tweets;"],"names":["axios","fetchUsers","url","page","params","limit","request","data","updateUser","newData","item","id","avatar","name","tweets","followers","isFollowing","updateState","handleClick","userToUpdate","response","className","css","Logo","src","alt","toLocaleString","onClick","items","makeMoreUsers","updateStateUser","Link","to","map","useState","users","setUsers","isMounted","useRef","makeRequest","nextPage","Math","round","length","result","prevState","Notify","useEffect","current","dataUser","user"],"sourceRoot":""}